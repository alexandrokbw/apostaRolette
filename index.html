<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Verificador de Gatilhos XIS</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .btn-green { background-color: green; color: white; }
        .btn-red { background-color: red; color: white; }
    </style>
</head>
<body class="bg-light">
    <div class="container mt-5">
        <h2 class="mb-4 text-center">Verificador de Gatilhos XIS</h2>
        
        <div class="input-group mb-3">
            <input type="number" id="numeroInput" class="form-control" placeholder="Digite um número" required>
            <button class="btn btn-primary" onclick="verificarGatilho()">Verificar</button>
        </div>

        <h3 class="mt-4">Histórico de Resultados</h3>
        <table class="table table-bordered table-striped mt-3">
            <thead class="table-dark">
                <tr>
                    <th>Número</th>
                    <th>Gatilho</th>
                    <th>Ação</th>
                </tr>
            </thead>
            <tbody id="historico"></tbody>
        </table>
    </div>

    <!-- JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        const gatilhos = {
            XIS1: [16, 17, 18],
            XIS2: [24, 25, 26],
            XIS3: [30, 31, 32],
            XIS4: [33, 34, 35],
            XIS5: [33, 22, 11]
        };

        function verificarGatilho() {
            const numeroInput = document.getElementById('numeroInput');
            const numero = parseInt(numeroInput.value);

            // Verifica se o campo está preenchido e contém um número válido
            if (!numeroInput.value || isNaN(numero)) {
                return; // Não faz nada se o campo estiver vazio ou com valor inválido
            }

            let gatilhoEncontrado = 'Nenhum';
            let numerosGatilho = '';

            // Verifica em qual gatilho o número se encontra e armazena os números do gatilho
            for (const [gatilho, numeros] of Object.entries(gatilhos)) {
                if (numeros.includes(numero)) {
                    gatilhoEncontrado = gatilho;
                    numerosGatilho = numeros.join(', ');
                    break;
                }
            }

            // Se nenhum gatilho foi encontrado, exibe "Nenhum"
            if (gatilhoEncontrado === 'Nenhum') {
                numerosGatilho = '-';
            }

            // Adiciona o número e o gatilho à tabela de histórico
            adicionarAoHistorico(numero, gatilhoEncontrado, numerosGatilho);

            // Limpa o campo de entrada após a verificação
            numeroInput.value = '';
        }

        function adicionarAoHistorico(numero, gatilho, numerosGatilho) {
            const tabela = document.getElementById('historico');
            const linha = document.createElement('tr');

            linha.innerHTML = `
                <td>${numero}</td>
                <td>${gatilho} ${numerosGatilho ? `(${numerosGatilho})` : ''}</td>
                <td><button class="btn btn-outline-secondary btn-sm" onclick="marcarResultado(this)">Marcar</button></td>
            `;

            tabela.appendChild(linha);
        }

        function marcarResultado(botao) {
            // Alterna entre vermelho e verde ao clicar
            if (botao.classList.contains('btn-green')) {
                botao.classList.remove('btn-green');
                botao.classList.add('btn-red');
                botao.textContent = 'Red';
            } else {
                botao.classList.remove('btn-red');
                botao.classList.add('btn-green');
                botao.textContent = 'Green';
            }
        }
    </script>
</body>
</html>
